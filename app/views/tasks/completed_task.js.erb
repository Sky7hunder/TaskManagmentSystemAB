$('table .completed').unbind('ajax:success').bind('ajax:success', function() {
  var tr = $(this).closest('tr');
  $.when(tr.fadeOut(500))
          .done(function() {
            <% if @completed_task.completed == true %>
            $('#completed_tasks tbody').append("<%= j render(partial: 'task', locals: { task: @completed_task }) %>");
            <% else %>
            $('#uncompleted_tasks tbody').append("<%= j render(partial: 'task', locals: { task: @completed_task }) %>");
            <% end %>
          });
});